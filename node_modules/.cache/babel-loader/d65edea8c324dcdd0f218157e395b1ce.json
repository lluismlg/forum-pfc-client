{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lluis\\\\OneDrive\\\\Projects\\\\forum-pfc\\\\forum-pfc-client\\\\src\\\\components\\\\Submit.js\";\nimport React, { Component } from 'react';\nimport Card from 'react-bootstrap/Card';\nimport TextPost from './CreatePostTypes/TextPost.js';\nimport ImagePost from './CreatePostTypes/ImagePost.js';\nimport LinkPost from './CreatePostTypes/LinkPost.js';\n\nclass Submit extends Component {\n  constructor(props) {\n    super(props);\n\n    this.hideCreatePosts = () => {\n      document.getElementById(\"TextPostDiv\").style.display = \"none\";\n      document.getElementById(\"ImagePostDiv\").style.display = \"none\";\n      document.getElementById(\"LinkPostDiv\").style.display = \"none\";\n      document.getElementById(\"PollPostDiv\").style.display = \"none\";\n    };\n\n    this.showPost = postType => {\n      if (postType === \"text\") {\n        document.getElementById(\"postSelectorInputText\").classList.add(\"active\");\n        document.getElementById(\"TextPostDiv\").style.display = \"inline-block\";\n      } else if (postType === \"image\") {\n        document.getElementById(\"postSelectorInputImage\").classList.add(\"active\");\n        document.getElementById(\"ImagePostDiv\").style.display = \"inline-block\";\n      } else if (postType === \"link\") {\n        document.getElementById(\"postSelectorInputLink\").classList.add(\"active\");\n        document.getElementById(\"LinkPostDiv\").style.display = \"inline-block\";\n      } else if (postType === \"poll\") {\n        document.getElementById(\"postSelectorInputPoll\").classList.add(\"active\");\n        document.getElementById(\"PollPostDiv\").style.display = \"inline-block\";\n      } else {\n        document.getElementById(\"postCreator\").innerHTML = \"Unexpected error\";\n      }\n    };\n\n    this.changePost = postType => {\n      if (postType === \"text\") {\n        window.location.href = \"/submit?postType=text\";\n      } else if (postType === \"image\") {\n        window.location.href = \"/submit?postType=image\";\n      } else if (postType === \"link\") {\n        window.location.href = \"/submit?postType=link\";\n      } else if (postType === \"poll\") {\n        window.location.href = \"/submit?postType=poll\";\n      } else {\n        this.hideCreatePosts();\n        document.getElementById(\"postCreator\").innerHTML = \"Unexpected error\";\n      }\n    };\n\n    this.uploadPost = () => {\n      var title;\n      var content;\n      var image;\n      var link;\n      var date = \"\";\n      var today = new Date();\n      var yyyy = today.getFullYear();\n      var mm = String(today.getMonth() + 1).padStart(2, '0');\n      var dd = String(today.getDate()).padStart(2, '0');\n      date = yyyy + '-' + mm + '-' + dd;\n      /* TEMPORARY UNTIL I GET LOG IN */\n\n      var author = \"unknown\";\n      /* GET DATA */\n\n      if (this.postType === \"text\") {\n        title = document.getElementById(\"TextTitle\").value;\n        content = document.getElementById(\"TextContent\").value;\n      } else if (this.postType === \"image\") {\n        title = document.getElementById(\"ImageTitle\").value;\n        image = document.getElementById(\"ImageLink\").value;\n      } else if (this.postType === \"link\") {\n        title = document.getElementById(\"LinkTitle\").value;\n        link = document.getElementById(\"LinkLink\").value;\n        link = \"<a href='\" + link + \"'>\" + link + \"</a>\";\n      } else if (this.postType === \"poll\") {\n        /* WIP */\n      } else {\n        this.hideCreatePosts();\n        document.getElementById(\"postCreator\").innerHTML = \"Unexpected error\";\n      }\n      /* CHECK DATA */\n\n\n      console.log(date);\n      console.log(\"author \" + author);\n      console.log(\"title \" + title);\n      console.log(\"image \" + image);\n      console.log(\"content \" + content);\n      console.log(\"link \" + link);\n      console.log(this.postType);\n      /* UPLOAD POSTS */\n\n      if (this.postType === \"text\") {\n        /* TEXT */\n        fetch(this.url + \"api/uploadText?postDate=\" + date + \"&postType=\" + this.postType + \"&postAuthor=\" + author + \"&postTitle=\" + title + \"&postContent=\" + content);\n        /* RELOAD TO SHOW FEEDBACK */\n\n        alert(\"You have posted susccesfully\");\n        window.location.reload();\n      } else if (this.postType === \"image\") {\n        /* IMAGE */\n        fetch(this.url + \"api/uploadText?postDate=\" + date + \"&postType=\" + this.postType + \"&postAuthor=\" + author + \"&postTitle=\" + title + \"&postImage=\" + image);\n        /* RELOAD TO SHOW FEEDBACK */\n\n        alert(\"You have posted susccesfully\");\n        window.location.reload();\n      } else if (this.postType === \"link\") {\n        /* LINK */\n        fetch(this.url + \"api/uploadText?postDate=\" + date + \"&postType=\" + this.postType + \"&postAuthor=\" + author + \"&postTitle=\" + title + \"&postContent=\" + link);\n        /* RELOAD TO SHOW FEEDBACK */\n\n        alert(\"You have posted susccesfully\");\n        window.location.reload();\n      } else if (this.postType === \"poll\") {\n        /* WIP */\n      } else {\n        alert(\"Unexpected error\");\n      }\n    };\n\n    this.postType = null;\n    this.url = \"https://forum-pfc-node.herokuapp.com\";\n  }\n\n  componentDidMount() {\n    var url = new URL(window.location.href);\n    this.postType = url.searchParams.get(\"postType\");\n\n    if (this.postType == null) {\n      this.changePost(\"text\");\n      url.searchParams.append(\"postType\", \"text\");\n      window.location.href = url;\n    } else {\n      this.showPost(this.postType);\n    } // document.getElementById(\"submitInputId\").addEventListener('click', this.openSubmit.bind(this, \"\"));\n    // document.getElementById(\"submitImgHolderId\").addEventListener('click', this.openSubmit.bind(this, \"img\"));\n\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"submitCard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 20\n      }\n    }, \"Create a post\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"postSelector\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"button\",\n      id: \"postSelectorInputText\",\n      className: \"postSelectorInput\",\n      value: \"Text\",\n      onClick: this.changePost.bind(this, \"text\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 8\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"button\",\n      id: \"postSelectorInputImage\",\n      className: \"postSelectorInput\",\n      value: \"Image\",\n      onClick: this.changePost.bind(this, \"image\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 8\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"button\",\n      id: \"postSelectorInputLink\",\n      className: \"postSelectorInput\",\n      value: \"Link\",\n      onClick: this.changePost.bind(this, \"link\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 8\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"button\",\n      id: \"postSelectorInputPoll\",\n      className: \"postSelectorInput\",\n      value: \"Poll\",\n      onClick: this.changePost.bind(this, \"poll\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 8\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"postCreator\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"TextPostDiv\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(TextPost, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"ImagePostDiv\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(ImagePost, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"LinkPostDiv\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(LinkPost, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"PollPostDiv\",\n      className: \"wip\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 8\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"postUpload\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"button\",\n      value: \"UPLOAD\",\n      onClick: this.uploadPost,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 8\n      }\n    })))));\n  }\n\n}\n\nexport default Submit;","map":{"version":3,"sources":["C:/Users/lluis/OneDrive/Projects/forum-pfc/forum-pfc-client/src/components/Submit.js"],"names":["React","Component","Card","TextPost","ImagePost","LinkPost","Submit","constructor","props","hideCreatePosts","document","getElementById","style","display","showPost","postType","classList","add","innerHTML","changePost","window","location","href","uploadPost","title","content","image","link","date","today","Date","yyyy","getFullYear","mm","String","getMonth","padStart","dd","getDate","author","value","console","log","fetch","url","alert","reload","componentDidMount","URL","searchParams","get","append","render","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport Card from 'react-bootstrap/Card'\r\n\r\nimport TextPost from './CreatePostTypes/TextPost.js'\r\nimport ImagePost from './CreatePostTypes/ImagePost.js'\r\nimport LinkPost from './CreatePostTypes/LinkPost.js'\r\n\r\nclass Submit extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.postType = null;\r\n\r\n\t\tthis.url = \"https://forum-pfc-node.herokuapp.com\"\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tvar url = new URL(window.location.href);\r\n\t\tthis.postType = url.searchParams.get(\"postType\");\r\n\r\n\t\tif (this.postType == null) {\r\n\t\t\tthis.changePost(\"text\")\r\n\t\t\turl.searchParams.append(\"postType\", \"text\");\r\n\t\t\twindow.location.href = url\r\n\t\t} else {\r\n\t\t\tthis.showPost(this.postType)\r\n\t\t}\r\n\r\n\t\t// document.getElementById(\"submitInputId\").addEventListener('click', this.openSubmit.bind(this, \"\"));\r\n\t\t// document.getElementById(\"submitImgHolderId\").addEventListener('click', this.openSubmit.bind(this, \"img\"));\r\n\t}\r\n\r\n\thideCreatePosts = () => {\r\n\t\tdocument.getElementById(\"TextPostDiv\").style.display = \"none\";\r\n\t\tdocument.getElementById(\"ImagePostDiv\").style.display = \"none\";\r\n\t\tdocument.getElementById(\"LinkPostDiv\").style.display = \"none\";\r\n\t\tdocument.getElementById(\"PollPostDiv\").style.display = \"none\";\r\n\t}\r\n\r\n\tshowPost = (postType) => {\r\n\t\tif (postType === \"text\") {\r\n\t\t\tdocument.getElementById(\"postSelectorInputText\").classList.add(\"active\");\r\n\t\t\tdocument.getElementById(\"TextPostDiv\").style.display = \"inline-block\";\r\n\t\t} else if (postType === \"image\") {\r\n\t\t\tdocument.getElementById(\"postSelectorInputImage\").classList.add(\"active\");\r\n\t\t\tdocument.getElementById(\"ImagePostDiv\").style.display = \"inline-block\";\r\n\t\t}\r\n\t\telse if (postType === \"link\") {\r\n\t\t\tdocument.getElementById(\"postSelectorInputLink\").classList.add(\"active\");\r\n\t\t\tdocument.getElementById(\"LinkPostDiv\").style.display = \"inline-block\";\r\n\t\t} else if (postType === \"poll\") {\r\n\t\t\tdocument.getElementById(\"postSelectorInputPoll\").classList.add(\"active\");\r\n\t\t\tdocument.getElementById(\"PollPostDiv\").style.display = \"inline-block\";\r\n\t\t} else {\r\n\t\t\tdocument.getElementById(\"postCreator\").innerHTML = \"Unexpected error\";\r\n\t\t}\r\n\t}\r\n\tchangePost = (postType) => {\r\n\t\tif (postType === \"text\") {\r\n\r\n\t\t\twindow.location.href = \"/submit?postType=text\"\r\n\t\t} else if (postType === \"image\") {\r\n\r\n\t\t\twindow.location.href = \"/submit?postType=image\"\r\n\t\t}\r\n\t\telse if (postType === \"link\") {\r\n\r\n\t\t\twindow.location.href = \"/submit?postType=link\"\r\n\t\t} else if (postType === \"poll\") {\r\n\r\n\t\t\twindow.location.href = \"/submit?postType=poll\"\r\n\t\t} else {\r\n\t\t\tthis.hideCreatePosts()\r\n\t\t\tdocument.getElementById(\"postCreator\").innerHTML = \"Unexpected error\";\r\n\t\t}\r\n\t}\r\n\r\n\tuploadPost = () => {\r\n\t\tvar title\r\n\t\tvar content\r\n\t\tvar image\r\n\t\tvar link\r\n\t\tvar date = \"\"\r\n\r\n\t\tvar today = new Date();\r\n\t\tvar yyyy = today.getFullYear();\r\n\t\tvar mm = String(today.getMonth() + 1).padStart(2, '0');\r\n\t\tvar dd = String(today.getDate()).padStart(2, '0');\r\n\r\n\t\tdate = yyyy + '-' + mm + '-' + dd;\r\n\r\n\r\n\t\t/* TEMPORARY UNTIL I GET LOG IN */\r\n\t\tvar author = \"unknown\";\r\n\r\n\t\t/* GET DATA */\r\n\t\tif (this.postType === \"text\") {\r\n\t\t\ttitle = document.getElementById(\"TextTitle\").value;\r\n\t\t\tcontent = document.getElementById(\"TextContent\").value;\r\n\t\t}\r\n\t\telse if (this.postType === \"image\") {\r\n\t\t\ttitle = document.getElementById(\"ImageTitle\").value;\r\n\t\t\timage = document.getElementById(\"ImageLink\").value;\r\n\t\t}\r\n\t\telse if (this.postType === \"link\") {\r\n\t\t\ttitle = document.getElementById(\"LinkTitle\").value;\r\n\t\t\tlink = document.getElementById(\"LinkLink\").value;\r\n\t\t\tlink = \"<a href='\" + link + \"'>\" + link + \"</a>\"\r\n\t\t}\r\n\t\telse if (this.postType === \"poll\") {\r\n\t\t\t/* WIP */\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.hideCreatePosts()\r\n\t\t\tdocument.getElementById(\"postCreator\").innerHTML = \"Unexpected error\";\r\n\t\t}\r\n\r\n\t\t/* CHECK DATA */\r\n\r\n\t\tconsole.log(date)\r\n\t\tconsole.log(\"author \" + author)\r\n\t\tconsole.log(\"title \" + title)\r\n\t\tconsole.log(\"image \" + image)\r\n\t\tconsole.log(\"content \" + content)\r\n\t\tconsole.log(\"link \" + link)\r\n\t\tconsole.log(this.postType)\r\n\r\n\t\t/* UPLOAD POSTS */\r\n\r\n\t\tif (this.postType === \"text\") {\r\n\t\t\t/* TEXT */\r\n\r\n\t\t\tfetch(this.url + \"api/uploadText?postDate=\" + date + \"&postType=\" + this.postType + \"&postAuthor=\" + author + \"&postTitle=\" + title + \"&postContent=\" + content)\r\n\t\t\t/* RELOAD TO SHOW FEEDBACK */\r\n\t\t\talert(\"You have posted susccesfully\")\r\n\t\t\twindow.location.reload()\r\n\t\t}\r\n\t\telse if (this.postType === \"image\") {\r\n\t\t\t/* IMAGE */\r\n\t\t\tfetch(this.url + \"api/uploadText?postDate=\" + date + \"&postType=\" + this.postType + \"&postAuthor=\" + author + \"&postTitle=\" + title + \"&postImage=\" + image)\r\n\t\t\t/* RELOAD TO SHOW FEEDBACK */\r\n\t\t\talert(\"You have posted susccesfully\")\r\n\t\t\twindow.location.reload()\r\n\t\t}\r\n\t\telse if (this.postType === \"link\") {\r\n\t\t\t/* LINK */\r\n\t\t\tfetch(this.url + \"api/uploadText?postDate=\" + date + \"&postType=\" + this.postType + \"&postAuthor=\" + author + \"&postTitle=\" + title + \"&postContent=\" + link)\r\n\t\t\t/* RELOAD TO SHOW FEEDBACK */\r\n\t\t\talert(\"You have posted susccesfully\")\r\n\t\t\twindow.location.reload()\r\n\t\t}\r\n\t\telse if (this.postType === \"poll\") {\r\n\t\t\t/* WIP */\r\n\t\t} else {\r\n\t\t\talert(\"Unexpected error\")\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"submit\">\r\n\t\t\t\t<Card className=\"submitCard\">\r\n\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t<Card.Title ><h5>Create a post</h5></Card.Title>\r\n\t\t\t\t\t\t<div className=\"postSelector\">\r\n\t\t\t\t\t\t\t<input type=\"button\" id=\"postSelectorInputText\" className=\"postSelectorInput\" value=\"Text\" onClick={this.changePost.bind(this, \"text\")} />\r\n\t\t\t\t\t\t\t<input type=\"button\" id=\"postSelectorInputImage\" className=\"postSelectorInput\" value=\"Image\" onClick={this.changePost.bind(this, \"image\")} />\r\n\t\t\t\t\t\t\t<input type=\"button\" id=\"postSelectorInputLink\" className=\"postSelectorInput\" value=\"Link\" onClick={this.changePost.bind(this, \"link\")} />\r\n\t\t\t\t\t\t\t<input type=\"button\" id=\"postSelectorInputPoll\" className=\"postSelectorInput\" value=\"Poll\" onClick={this.changePost.bind(this, \"poll\")} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div id=\"postCreator\">\r\n\t\t\t\t\t\t\t<div id=\"TextPostDiv\">\r\n\t\t\t\t\t\t\t\t< TextPost />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div id=\"ImagePostDiv\">\r\n\t\t\t\t\t\t\t\t< ImagePost />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div id=\"LinkPostDiv\">\r\n\t\t\t\t\t\t\t\t< LinkPost />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div id=\"PollPostDiv\" className=\"wip\">\r\n\t\t\t\t\t\t\t\t{/* < PollPost /> */}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"postUpload\">\r\n\t\t\t\t\t\t\t<input type=\"button\" value=\"UPLOAD\" onClick={this.uploadPost} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Card.Body>\r\n\t\t\t\t</Card>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\r\n\r\n\r\n}\r\nexport default Submit\r\n\r\n"]},"metadata":{},"sourceType":"module"}