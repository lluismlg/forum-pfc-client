{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\lluis\\\\OneDrive\\\\_Projects\\\\forum-pfc\\\\forum-pfc-client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\lluis\\\\OneDrive\\\\_Projects\\\\forum-pfc\\\\forum-pfc-client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\lluis\\\\OneDrive\\\\_Projects\\\\forum-pfc\\\\forum-pfc-client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\lluis\\\\OneDrive\\\\_Projects\\\\forum-pfc\\\\forum-pfc-client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Card from'react-bootstrap/Card';import TextPost from'./CreatePostTypes/TextPost.js';import ImagePost from'./CreatePostTypes/ImagePost.js';import LinkPost from'./CreatePostTypes/LinkPost.js';var Submit=/*#__PURE__*/function(_Component){_inherits(Submit,_Component);var _super=_createSuper(Submit);function Submit(props){var _this;_classCallCheck(this,Submit);_this=_super.call(this,props);_this.hideCreatePosts=function(){document.getElementById(\"TextPostDiv\").style.display=\"none\";document.getElementById(\"ImagePostDiv\").style.display=\"none\";document.getElementById(\"LinkPostDiv\").style.display=\"none\";document.getElementById(\"PollPostDiv\").style.display=\"none\";};_this.showPost=function(postType){if(postType===\"text\"){document.getElementById(\"postSelectorInputText\").classList.add(\"active\");document.getElementById(\"TextPostDiv\").style.display=\"inline-block\";}else if(postType===\"image\"){document.getElementById(\"postSelectorInputImage\").classList.add(\"active\");document.getElementById(\"ImagePostDiv\").style.display=\"inline-block\";}else if(postType===\"link\"){document.getElementById(\"postSelectorInputLink\").classList.add(\"active\");document.getElementById(\"LinkPostDiv\").style.display=\"inline-block\";}else if(postType===\"poll\"){document.getElementById(\"postSelectorInputPoll\").classList.add(\"active\");document.getElementById(\"PollPostDiv\").style.display=\"inline-block\";}else{document.getElementById(\"postCreator\").innerHTML=\"Unexpected error\";}};_this.changePost=function(postType){if(postType===\"text\"){window.location.href=\"/submit?postType=text\";}else if(postType===\"image\"){window.location.href=\"/submit?postType=image\";}else if(postType===\"link\"){window.location.href=\"/submit?postType=link\";}else if(postType===\"poll\"){window.location.href=\"/submit?postType=poll\";}else{_this.hideCreatePosts();document.getElementById(\"postCreator\").innerHTML=\"Unexpected error\";}};_this.uploadPost=function(){var title;var content;var image;var link;var date=\"\";var today=new Date();var yyyy=today.getFullYear();var mm=String(today.getMonth()+1).padStart(2,'0');var dd=String(today.getDate()).padStart(2,'0');date=yyyy+'-'+mm+'-'+dd;/* TEMPORARY UNTIL I GET LOG IN */var author=\"unknown\";/* GET DATA */if(_this.postType===\"text\"){title=document.getElementById(\"TextTitle\").value;content=document.getElementById(\"TextContent\").value;}else if(_this.postType===\"image\"){title=document.getElementById(\"ImageTitle\").value;image=document.getElementById(\"ImageLink\").value;}else if(_this.postType===\"link\"){title=document.getElementById(\"LinkTitle\").value;link=document.getElementById(\"LinkLink\").value;link=\"<a href='\"+link+\"'>\"+link+\"</a>\";}else if(_this.postType===\"poll\"){/* WIP */}else{_this.hideCreatePosts();document.getElementById(\"postCreator\").innerHTML=\"Unexpected error\";}/* CHECK DATA */console.log(date);console.log(\"author \"+author);console.log(\"title \"+title);console.log(\"image \"+image);console.log(\"content \"+content);console.log(\"link \"+link);console.log(_this.postType);/* UPLOAD POSTS */if(_this.postType===\"text\"){/* TEXT */fetch(_this.url+\"/api/uploadText?postDate=\"+date+\"&postType=\"+_this.postType+\"&postAuthor=\"+author+\"&postTitle=\"+title+\"&postContent=\"+content);/* RELOAD TO SHOW FEEDBACK */alert(\"You have posted susccesfully\");window.location.reload();}else if(_this.postType===\"image\"){/* IMAGE */fetch(_this.url+\"/api/uploadText?postDate=\"+date+\"&postType=\"+_this.postType+\"&postAuthor=\"+author+\"&postTitle=\"+title+\"&postImage=\"+image);/* RELOAD TO SHOW FEEDBACK */alert(\"You have posted susccesfully\");window.location.reload();}else if(_this.postType===\"link\"){/* LINK */fetch(_this.url+\"/api/uploadText?postDate=\"+date+\"&postType=\"+_this.postType+\"&postAuthor=\"+author+\"&postTitle=\"+title+\"&postContent=\"+link);/* RELOAD TO SHOW FEEDBACK */alert(\"You have posted susccesfully\");window.location.reload();}else if(_this.postType===\"poll\"){/* WIP */}else{alert(\"Unexpected error\");}};_this.postType=null;_this.url=\"https://forum-pfc-node.herokuapp.com\";return _this;}_createClass(Submit,[{key:\"componentDidMount\",value:function componentDidMount(){var url=new URL(window.location.href);this.postType=url.searchParams.get(\"postType\");if(this.postType==null){this.changePost(\"text\");url.searchParams.append(\"postType\",\"text\");window.location.href=url;}else{this.showPost(this.postType);}// document.getElementById(\"submitInputId\").addEventListener('click', this.openSubmit.bind(this, \"\"));\n// document.getElementById(\"submitImgHolderId\").addEventListener('click', this.openSubmit.bind(this, \"img\"));\n}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"submit\"},/*#__PURE__*/React.createElement(Card,{className:\"submitCard\"},/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Card.Title,null,/*#__PURE__*/React.createElement(\"h5\",null,\"Create a post\")),/*#__PURE__*/React.createElement(\"div\",{className:\"postSelector\"},/*#__PURE__*/React.createElement(\"input\",{type:\"button\",id:\"postSelectorInputText\",className:\"postSelectorInput\",value:\"Text\",onClick:this.changePost.bind(this,\"text\")}),/*#__PURE__*/React.createElement(\"input\",{type:\"button\",id:\"postSelectorInputImage\",className:\"postSelectorInput\",value:\"Image\",onClick:this.changePost.bind(this,\"image\")}),/*#__PURE__*/React.createElement(\"input\",{type:\"button\",id:\"postSelectorInputLink\",className:\"postSelectorInput\",value:\"Link\",onClick:this.changePost.bind(this,\"link\")}),/*#__PURE__*/React.createElement(\"input\",{type:\"button\",id:\"postSelectorInputPoll\",className:\"postSelectorInput\",value:\"Poll\",onClick:this.changePost.bind(this,\"poll\")})),/*#__PURE__*/React.createElement(\"div\",{id:\"postCreator\"},/*#__PURE__*/React.createElement(\"div\",{id:\"TextPostDiv\"},/*#__PURE__*/React.createElement(TextPost,null)),/*#__PURE__*/React.createElement(\"div\",{id:\"ImagePostDiv\"},/*#__PURE__*/React.createElement(ImagePost,null)),/*#__PURE__*/React.createElement(\"div\",{id:\"LinkPostDiv\"},/*#__PURE__*/React.createElement(LinkPost,null)),/*#__PURE__*/React.createElement(\"div\",{id:\"PollPostDiv\",className:\"wip\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"postUpload\"},/*#__PURE__*/React.createElement(\"input\",{type:\"button\",value:\"UPLOAD\",onClick:this.uploadPost})))));}}]);return Submit;}(Component);export default Submit;","map":{"version":3,"sources":["C:/Users/lluis/OneDrive/_Projects/forum-pfc/forum-pfc-client/src/components/Submit.js"],"names":["React","Component","Card","TextPost","ImagePost","LinkPost","Submit","props","hideCreatePosts","document","getElementById","style","display","showPost","postType","classList","add","innerHTML","changePost","window","location","href","uploadPost","title","content","image","link","date","today","Date","yyyy","getFullYear","mm","String","getMonth","padStart","dd","getDate","author","value","console","log","fetch","url","alert","reload","URL","searchParams","get","append","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport Card from 'react-bootstrap/Card'\r\n\r\nimport TextPost from './CreatePostTypes/TextPost.js'\r\nimport ImagePost from './CreatePostTypes/ImagePost.js'\r\nimport LinkPost from './CreatePostTypes/LinkPost.js'\r\n\r\nclass Submit extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.postType = null;\r\n\r\n\t\tthis.url = \"https://forum-pfc-node.herokuapp.com\"\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tvar url = new URL(window.location.href);\r\n\t\tthis.postType = url.searchParams.get(\"postType\");\r\n\r\n\t\tif (this.postType == null) {\r\n\t\t\tthis.changePost(\"text\")\r\n\t\t\turl.searchParams.append(\"postType\", \"text\");\r\n\t\t\twindow.location.href = url\r\n\t\t} else {\r\n\t\t\tthis.showPost(this.postType)\r\n\t\t}\r\n\r\n\t\t// document.getElementById(\"submitInputId\").addEventListener('click', this.openSubmit.bind(this, \"\"));\r\n\t\t// document.getElementById(\"submitImgHolderId\").addEventListener('click', this.openSubmit.bind(this, \"img\"));\r\n\t}\r\n\r\n\thideCreatePosts = () => {\r\n\t\tdocument.getElementById(\"TextPostDiv\").style.display = \"none\";\r\n\t\tdocument.getElementById(\"ImagePostDiv\").style.display = \"none\";\r\n\t\tdocument.getElementById(\"LinkPostDiv\").style.display = \"none\";\r\n\t\tdocument.getElementById(\"PollPostDiv\").style.display = \"none\";\r\n\t}\r\n\r\n\tshowPost = (postType) => {\r\n\t\tif (postType === \"text\") {\r\n\t\t\tdocument.getElementById(\"postSelectorInputText\").classList.add(\"active\");\r\n\t\t\tdocument.getElementById(\"TextPostDiv\").style.display = \"inline-block\";\r\n\t\t} else if (postType === \"image\") {\r\n\t\t\tdocument.getElementById(\"postSelectorInputImage\").classList.add(\"active\");\r\n\t\t\tdocument.getElementById(\"ImagePostDiv\").style.display = \"inline-block\";\r\n\t\t}\r\n\t\telse if (postType === \"link\") {\r\n\t\t\tdocument.getElementById(\"postSelectorInputLink\").classList.add(\"active\");\r\n\t\t\tdocument.getElementById(\"LinkPostDiv\").style.display = \"inline-block\";\r\n\t\t} else if (postType === \"poll\") {\r\n\t\t\tdocument.getElementById(\"postSelectorInputPoll\").classList.add(\"active\");\r\n\t\t\tdocument.getElementById(\"PollPostDiv\").style.display = \"inline-block\";\r\n\t\t} else {\r\n\t\t\tdocument.getElementById(\"postCreator\").innerHTML = \"Unexpected error\";\r\n\t\t}\r\n\t}\r\n\tchangePost = (postType) => {\r\n\t\tif (postType === \"text\") {\r\n\r\n\t\t\twindow.location.href = \"/submit?postType=text\"\r\n\t\t} else if (postType === \"image\") {\r\n\r\n\t\t\twindow.location.href = \"/submit?postType=image\"\r\n\t\t}\r\n\t\telse if (postType === \"link\") {\r\n\r\n\t\t\twindow.location.href = \"/submit?postType=link\"\r\n\t\t} else if (postType === \"poll\") {\r\n\r\n\t\t\twindow.location.href = \"/submit?postType=poll\"\r\n\t\t} else {\r\n\t\t\tthis.hideCreatePosts()\r\n\t\t\tdocument.getElementById(\"postCreator\").innerHTML = \"Unexpected error\";\r\n\t\t}\r\n\t}\r\n\r\n\tuploadPost = () => {\r\n\t\tvar title\r\n\t\tvar content\r\n\t\tvar image\r\n\t\tvar link\r\n\t\tvar date = \"\"\r\n\r\n\t\tvar today = new Date();\r\n\t\tvar yyyy = today.getFullYear();\r\n\t\tvar mm = String(today.getMonth() + 1).padStart(2, '0');\r\n\t\tvar dd = String(today.getDate()).padStart(2, '0');\r\n\r\n\t\tdate = yyyy + '-' + mm + '-' + dd;\r\n\r\n\r\n\t\t/* TEMPORARY UNTIL I GET LOG IN */\r\n\t\tvar author = \"unknown\";\r\n\r\n\t\t/* GET DATA */\r\n\t\tif (this.postType === \"text\") {\r\n\t\t\ttitle = document.getElementById(\"TextTitle\").value;\r\n\t\t\tcontent = document.getElementById(\"TextContent\").value;\r\n\t\t}\r\n\t\telse if (this.postType === \"image\") {\r\n\t\t\ttitle = document.getElementById(\"ImageTitle\").value;\r\n\t\t\timage = document.getElementById(\"ImageLink\").value;\r\n\t\t}\r\n\t\telse if (this.postType === \"link\") {\r\n\t\t\ttitle = document.getElementById(\"LinkTitle\").value;\r\n\t\t\tlink = document.getElementById(\"LinkLink\").value;\r\n\t\t\tlink = \"<a href='\" + link + \"'>\" + link + \"</a>\"\r\n\t\t}\r\n\t\telse if (this.postType === \"poll\") {\r\n\t\t\t/* WIP */\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.hideCreatePosts()\r\n\t\t\tdocument.getElementById(\"postCreator\").innerHTML = \"Unexpected error\";\r\n\t\t}\r\n\r\n\t\t/* CHECK DATA */\r\n\r\n\t\tconsole.log(date)\r\n\t\tconsole.log(\"author \" + author)\r\n\t\tconsole.log(\"title \" + title)\r\n\t\tconsole.log(\"image \" + image)\r\n\t\tconsole.log(\"content \" + content)\r\n\t\tconsole.log(\"link \" + link)\r\n\t\tconsole.log(this.postType)\r\n\r\n\t\t/* UPLOAD POSTS */\r\n\r\n\t\tif (this.postType === \"text\") {\r\n\t\t\t/* TEXT */\r\n\r\n\t\t\tfetch(this.url + \"/api/uploadText?postDate=\" + date + \"&postType=\" + this.postType + \"&postAuthor=\" + author + \"&postTitle=\" + title + \"&postContent=\" + content)\r\n\t\t\t/* RELOAD TO SHOW FEEDBACK */\r\n\t\t\talert(\"You have posted susccesfully\")\r\n\t\t\twindow.location.reload()\r\n\t\t}\r\n\t\telse if (this.postType === \"image\") {\r\n\t\t\t/* IMAGE */\r\n\t\t\tfetch(this.url + \"/api/uploadText?postDate=\" + date + \"&postType=\" + this.postType + \"&postAuthor=\" + author + \"&postTitle=\" + title + \"&postImage=\" + image)\r\n\t\t\t/* RELOAD TO SHOW FEEDBACK */\r\n\t\t\talert(\"You have posted susccesfully\")\r\n\t\t\twindow.location.reload()\r\n\t\t}\r\n\t\telse if (this.postType === \"link\") {\r\n\t\t\t/* LINK */\r\n\t\t\tfetch(this.url + \"/api/uploadText?postDate=\" + date + \"&postType=\" + this.postType + \"&postAuthor=\" + author + \"&postTitle=\" + title + \"&postContent=\" + link)\r\n\t\t\t/* RELOAD TO SHOW FEEDBACK */\r\n\t\t\talert(\"You have posted susccesfully\")\r\n\t\t\twindow.location.reload()\r\n\t\t}\r\n\t\telse if (this.postType === \"poll\") {\r\n\t\t\t/* WIP */\r\n\t\t} else {\r\n\t\t\talert(\"Unexpected error\")\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"submit\">\r\n\t\t\t\t<Card className=\"submitCard\">\r\n\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t<Card.Title ><h5>Create a post</h5></Card.Title>\r\n\t\t\t\t\t\t<div className=\"postSelector\">\r\n\t\t\t\t\t\t\t<input type=\"button\" id=\"postSelectorInputText\" className=\"postSelectorInput\" value=\"Text\" onClick={this.changePost.bind(this, \"text\")} />\r\n\t\t\t\t\t\t\t<input type=\"button\" id=\"postSelectorInputImage\" className=\"postSelectorInput\" value=\"Image\" onClick={this.changePost.bind(this, \"image\")} />\r\n\t\t\t\t\t\t\t<input type=\"button\" id=\"postSelectorInputLink\" className=\"postSelectorInput\" value=\"Link\" onClick={this.changePost.bind(this, \"link\")} />\r\n\t\t\t\t\t\t\t<input type=\"button\" id=\"postSelectorInputPoll\" className=\"postSelectorInput\" value=\"Poll\" onClick={this.changePost.bind(this, \"poll\")} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div id=\"postCreator\">\r\n\t\t\t\t\t\t\t<div id=\"TextPostDiv\">\r\n\t\t\t\t\t\t\t\t< TextPost />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div id=\"ImagePostDiv\">\r\n\t\t\t\t\t\t\t\t< ImagePost />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div id=\"LinkPostDiv\">\r\n\t\t\t\t\t\t\t\t< LinkPost />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div id=\"PollPostDiv\" className=\"wip\">\r\n\t\t\t\t\t\t\t\t{/* < PollPost /> */}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"postUpload\">\r\n\t\t\t\t\t\t\t<input type=\"button\" value=\"UPLOAD\" onClick={this.uploadPost} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Card.Body>\r\n\t\t\t\t</Card>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\r\n\r\n\r\n}\r\nexport default Submit\r\n\r\n"]},"metadata":{},"sourceType":"module"}